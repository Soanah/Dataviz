<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Steps</title>
    <link rel="stylesheet" href="style/reset.css">
    <link rel="stylesheet" href="style/style.css">
</head>

<body>
    <script src="scripts/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/3.0.2/topojson.min.js"></script>
    <script src="scripts/datamaps.world.min.js"></script>
    <!-- WELCOME -->
    <div class="container">
        <div class="menu">
            <ul>
                <li><a href='#'>Steps</a></li>
            </ul>
            <ul>
                <li class="items"><a href='#'>A propos</a></li>
            </ul>
        </div>
        <div class="content">
            <div class="text">
                <h1>BIENVENUE DANS STEPS</h1>
                <p>Il y a 250 millions d'années, le monde formait un seul et unique continent appelé Pangée. Celle-ci à commencer à se fracturer de manière vraiment intense il y a 200 millions d’années, et aujourd’hui, s’est divisé en cinq continents différents et habitables : l’Afrique, l’Amérique, l’Asie, l’Europe et l’Océanie. L’Homo sapiens n'apparaît il y a seulement 200 000 ans. Celui-ci marque le début des migrations de l’humanité. Sa soif de connaissance et d’exploration, sa curiosité et son esprit aventurier le mènent ainsi à la découverte d’autres continents, et tout cela s’est transmis au fil des années, les raisons variant en fonction des époques.
                </p>
                <a href="#">EXPLORER</a>
            </div>
            <div class="illustration">
                <img src="media/illustration.png" alt="dataviz world map">
            </div>
        </div>
        <div class="scroll">
            <div class="line"></div>
            <div class="scroll-text">SCROLL</div>
        </div>
    </div>
        <!-- Map -->
        <div class="container-map" data-text="Section 3" id="sec3">
            <div class="container-toggle-content">
                <a href='#sec1'>
                    <div class="button button-one "></div>
                </a>
                <a href='#sec2'>
                    <div class="button button-two"></div>
                </a>
                <a href='#sec3'>
                    <div class="button button-three" id=button-active></div>
                </a>
                <a href='#sec4'>
                    <div class="button button-four"></div>
                </a>
                <a href='#sec5'><div class="button button-five"></div></a>
                <div class="button button-six"></div>
                <div class="button button-seven"></div>
                <div class="button button-height"></div>
                <div class="button button-nine"></div>
            </div>
            <h1>Grandes découvertes historiques</h1>
            <div id="basic_choropleth" style="position: relative; width: 1000px; height: 800px;"></div>
        </div>
        <!-- Timeline -->
        <div class="container-timeline-roma" data-text="Section 5" id="sec5">
            <div class="container-toggle-content">
                <a href='#sec1'>
                    <div class="button button-one "></div>
                </a>
                <a href='#sec2'>
                    <div class="button button-two"></div>
                </a>
                <a href='#sec3'>
                    <div class="button button-three"></div>
                </a>
                <a href='#sec4'>
                    <div class="button button-four"></div>
                </a>
                <div class="button button-five" id=button-active></div>
                <div class="button button-six"></div>
                <div class="button button-seven"></div>
                <div class="button button-height"></div>
                <div class="button button-nine"></div>
            </div>
            <div class="middle-container-roma">
                <h1>L'Empire Romain : De la naissance à la chutte du plus grand Empire de l'Antiquité</h1>
                <div class="horizontal-line">
                    <div class="bluedot first">
                        <div class="blueline">
                            <span class="content">-753 : Naissance de Rome</span>
                        </div>
                    </div>
                    <div class="bluedot two">
                        <div class="blueline">
                            <span class="content">-613 : Domination des rois étrusques</span>
                        </div>
                    </div>
                    <div class="bluedot three" id='republic'>
                        <div class="blueline" id='republic'>
                            <span class="content">-509 : Début de la République Romaine</span>
                        </div>
                    </div>
                    <div class="bluedot four" id='republic'>
                        <div class="blueline" id='republic'>
                            <span class="content">-264 / -241 : Première guerre punique </span>
                        </div>
                    </div>
                    <div class="bluedot five" id='republic'>
                        <div class="blueline" id='republic'>
                            <span class="content">-218 / -201 : 2ème guerre punique</span>
                        </div>
                    </div>
                    <div class="bluedot six" id='republic'>
                        <div class="blueline" id='republic'>
                            <span class="content">-149 / -146 : 3ème Guerre punique</span>
                        </div>
                    </div>
                    <div class="bluedot seven" id='republic'>
                        <div class="blueline" id='republic'>
                            <span class="content">-44 Jules César est nommé consul</span>
                        </div>
                    </div>
                    <div class="bluedot eight" id='empire'>
                        <div class="blueline" id='empire'>
                            <span class="content">-27 : Naissance de l'Empire Romain</span>
                        </div>
                    </div>
                    <div class="bluedot nine" id='empire'>
                        <div class="blueline" id='empire'>
                            <span class="content">117 : L'Empire Romain atteint son extension maximale</span>
                        </div>
                    </div>
                    <div class="bluedot ten" id='empire'>
                        <div class="blueline" id='empire'>
                            <span class="content">330 : Constantinople est déclarée capitale de l'Empire</span>
                        </div>
                    </div>
                    <div class="bluedot eleven" id='empire'>
                        <div class="blueline" id='empire'>
                            <span class="content">395 : L'Empire est partagée entre Occident et Orient</span>
                        </div>
                    </div>
                    <div class="bluedot twelve" id='empire'>
                        <div class="blueline" id='empire'>
                            <span class="content">476 : Fin de l'Empire Romain d'Occident</span>
                        </div>
                    </div>
                    <div class="greydot">
                        <span class="date">-800</span>
                        <div class="vertical line"></div>
                    </div>
                    <div class="greydot">
                        <span class="date">-600</span>
                        <div class="vertical line"></div>
                    </div>
                    <div class="greydot">
                        <span class="date">-400</span>
                        <div class="vertical line"></div>
                    </div>
                    <div class="greydot">
                        <span class="date">-200</span>
                        <div class="vertical line"></div>
                    </div>
                    <div class="greydot special">
                        <span class="date">1</span>
                        <div class="vertical line"></div>
                    </div>
                    <div class="greydot">
                        <span class="date">200</span>
                        <div class="vertical line"></div>
                    </div>
                    <div class="greydot">
                        <span class="date">400</span>
                        <div class="vertical line"></div>
                    </div>
                    <div class="greydot">
                        <span class="date">600</span>
                        <div class="vertical line"></div>
                    </div>
                </div>
            </div>
        </div>
    <!-- Graph Discover America-->
    <div class="dataviz">
        <div class="container-toggle-content">
            <a href='#sec1'>
                <div class="button button-one " id=button-active></div>
            </a>
            <a href='#sec2'>
                <div class="button button-two"></div>
            </a>
            <a href='#sec3'>
                <div class="button button-three"></div>
            </a>
            <a href='#sec4'>
                <div class="button button-four"></div>
            </a>
            <a href='#sec5'><div class="button button-five"></div></a>
            <div class="button button-six"></div>
            <div class="button button-seven"></div>
            <div class="button button-height"></div>
            <div class="button button-nine"></div>
        </div>
        <div class="cardOne" data-text="Section 1" id="sec1">
            <div class="title">
                <h1>Grandes guerres : conséquences sur la population et sa répartition.</h1>
                <p>Il y a 250 millions d'années, le monde formait un seul et unique continent appelé Pangée. Il y a 250
                    millions d'années, le monde formait un seul et unique continent, appelé Pangée. Il y a 250 millions
                    d'années, le monde formait un seul et unique continent, appelé Pangée.
                    Il y a 250 millions d'années, le monde formait un seul et unique continent, appelé Pangée.</p>
            </div>
            <div class="cardData">
                <div id='layout'>
                    <div class='container'>
                        <span>Répartition avant la découverte de l'Amérique</span>
                        <svg class="svg1"></svg>
                    </div>
                </div>
                <div id='layout2'>
                    <div class='container2'>
                            <span>Répartition après la découverte de l'Amérique</span>
                        <svg class="svg2"></svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Africa representation -->
    <div class="container-cardAfrica" data-text="Section 4" id="sec4">
        <div class="container-toggle-content">
            <a href='#sec1'>
                <div class="button button-one "></div>
            </a>
            <a href='#sec2'>
                <div class="button button-two"></div>
            </a>
            <a href='#sec3'>
                <div class="button button-three"></div>
            </a>
            <a href='#sec4'>
                <div class="button button-four" id=button-active></div>
            </a>
            <a href='#sec5'><div class="button button-five"></div></a>
            <div class="button button-six"></div>
            <div class="button button-seven"></div>
            <div class="button button-height"></div>
            <div class="button button-nine"></div>
        </div>
        <div class="cardAfrica">
            <div class="title">
                <h1>Titre random</h1>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eius, porro dolores aliquam laboriosam
                    beatae perferendis sed libero nam quisquam voluptatibus, numquam corporis repellendus quas et
                    totam, molestiae est mollitia repellat?</p>
            </div>
            <div class="cardDataAfrica">
                <div class="valueWorld">
                    <div class="cardValueWorld">
                        <h1>19%</h1>
                        <h2>Population mondiale</h2>
                        <h3>86 millions d'Africains au XVIe siècle.</h3>
                    </div>
                    <div class="cardValueWorld">
                        <h1>10%</h1>
                        <h2>Population mondiale</h2>
                        <h3>101 millions d'Africains au XIXe siècle.</h3>
                    </div>
                </div>
                <div class="valueSlaves">
                    <h1>2%</h1>
                    <h2>Esclaves</h2>
                    <h3>2 millions d'Africains ont été soumis à l'esclavage entre le XVIè siècle et le XIXè siècle.</h3>
                </div>
                <div class="valueColons">
                    <h1>Pays ayant colonisé l'Afrique entre 1500 et 1800</h1>
                    <h2>Grande-Bretagne</h2>
                    <h2>Portugal</h2>
                    <h2>France</h2>
                    <h2>Hollande</h2>
                    <h2>Espagne</h2>
                    <h2>Danemark</h2>
                </div>
            </div>
        </div>
    </div>
    <!-- People evolution 1900 -->
    <div class="bigContainerPie" data-text="Section 2" id="sec2">
        <div class="container-toggle-content">
            <a href='#sec1'>
                <div class="button button-one "></div>
            </a>
            <a href='#sec2'>
                <div class="button button-two" id=button-active></div>
            </a>
            <a href='#sec3'>
                <div class="button button-three"></div>
            </a>
            <a href='#sec4'>
                <div class="button button-four"></div>
            </a>
            <a href='#sec5'><div class="button button-five"></div></a>
            <div class="button button-six"></div>
            <div class="button button-seven"></div>
            <div class="button button-height"></div>
            <div class="button button-nine"></div>
        </div>
        <div class="middleContainerPie">

            <h1>Evolution du peuplement sur Terre sur les 100 dernières années.</h1>
            <div class="container-pie">
                <h3>Pays les plus peuplés en 1918</h3>
                <div class="content-pie">
                    <div class="content country-one">
                        <div class="country-name">Chine</div>
                        <div class="number-country">400 000 000</div>
                        <div class="line-country-one"></div>
                    </div>
                    <div class="content country-two">
                        <div class="country-name">Raj Britannique</div>
                        <div class="number-country">330 567 600</div>
                        <div class="line-country-two"></div>
                    </div>
                    <div class="content country-three">
                        <div class="country-name">Empire Russe</div>
                        <div class="number-country">119 546 234</div>
                    </div>
                </div>
            </div>

            <div class="container-pie second">
                <h3>Pays les plus peuplés en 2018</h3>
                <div class="content-pie">
                    <div class="content country-one">
                        <div class="country-name">Chine</div>
                        <div class="number-country">1 381 943 050</div>
                        <div class="line-country-one"></div>
                    </div>
                    <div class="content country-two">
                        <div class="country-name">Inde</div>
                        <div class="number-country">1 347 781 150</div>
                        <div class="line-country-two"></div>
                    </div>
                    <div class="content country-three">
                        <div class="country-name">Etats-Unis</div>
                        <div class="number-country">327 163 096</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        var data_1918 = [
            [400000000, 330567600, 119546234]
        ];

        var m = 15,
            r = 140,
            z = d3.scale.category20c();
        var graphicPie = d3.select("body .container-pie").selectAll("svg")
            .data(data_1918)
            .enter().append("svg")
            .attr("width", (r + m) * 2)
            .attr("height", (r + m) * 2)
            .classed('pie-path', true)
            .append("g")
            .attr("transform", "translate(" + (r + m) + "," + (r + m) + ")");

        graphicPie.selectAll("path")
            .data(d3.layout.pie())
            .enter().append("path")
            .attr("d", d3.svg.arc()
                .innerRadius(r / 2)
                .outerRadius(r))
            .style("fill", function (d, i) { return z(i); });

        var data_2018 = [
            [1381943050, 1347781150, 327163096]
        ];
        var m = 15,
            r = 140,
            z = d3.scale.category20c();
        var graphicPie = d3.select("body .second").selectAll("svg")
            .data(data_2018)
            .enter().append("svg")
            .attr("width", (r + m) * 2)
            .attr("height", (r + m) * 2)
            .classed('pie-path', true)
            .append("g")
            .attr("transform", "translate(" + (r + m) + "," + (r + m) + ")");


        graphicPie.selectAll("path")
            .data(d3.layout.pie())
            .enter().append("path")
            .attr("d", d3.svg.arc()
                .innerRadius(r / 2)
                .outerRadius(r))
            .style("fill", function (d, i) { return z(i); });


        var basic_choropleth = new Datamap({
            element: document.getElementById("basic_choropleth"),
            projection: 'mercator',

            geographyConfig: {
                popupOnHover: true,
                highlightOnHover: true,
                highlightFillColor: '#63c2de',
                highlightBorderColor: 'none',
                borderWidth: 0.3,
            },

            //config des flux (arc) > popup ok
            arcConfig: {
                popupOnHover: true,
            },
            //Config des bubbles, couleurs
            bubblesConfig: {
                highlightFillColor: '#fa2563',
            },

            fills: {
                defaultFill: "#6699cc",
                authorHasTraveledTo: "#fa0fa0"
            },

            data: {
                'RUS': { fillKey: 'RUS' },
                'PRK': { fillKey: 'PRK' },
                'PRC': { fillKey: 'PRC' },
                'IND': { fillKey: 'IND' },
                'GBR': { fillKey: 'GBR' },
                'FRA': { fillKey: 'FRA' },
                'PAK': { fillKey: 'PAK' },
                'USA': { fillKey: 'USA' },
                'ESP': { fillKey: 'ESP' }
            }
        });

        var sites = [{
            name: 'Lucy, ou Dinqnesh',
            radius: 5,
            discover: 'Lucy constitue le premier fossile relativement complet (conservé à 40 %, avec 52 fragments osseux1) qui ait été découvert pour une période aussi ancienne, et a révolutionné notre perception des origines humaines, en démontrant que l’acquisition de la bipédie datait d\'au moins 3 millions d’années.',
            country: 'Ethiopie',
            fillKey: 'RUS',
            date: '1974',
            latitude: 11.7866551,
            longitude: 41.00703469999996
        }, {
            name: 'Os de la plus ancienne main humaine',
            radius: 6,
            discover: 'La phalange datée d\'1.8 million d\'années retrouvée dans les gorges d\'Olduvai est de la même taille que celle d\'un Homo Sapiens.',
            country: 'Tanzanie',
            fillKey: 'RUS',
            date: '?',
            latitude: -2.9895714,
            longitude: 35.35391279999999

        }, {
            name: 'Ossements de bisons et pointes de flèches en silex',
            radius: 8,
            discover: 'un cow-boy découvre des ossements de bisons fossilisés depuis 10 000 ans. Au milieu des restes sont fichées des pointes de flèches en silex. Celles-ci attestent donc d\'une présence humaine à cette époque.',
            country: 'USA',
            fillKey: 'RUS',
            date: '1926',
            latitude: 36.8450241,
            longitude: -103.91774459999999
        }, {
            name: 'Luzia',
            radius: 5,
            discover: 'Le squelette de Luzia a été découvert sur le site de Lapa Vermelha au Brésil en 1995. Il était enfoui sous 12 mètres de terre. Les restes fossiles de cette femme de 20 à 25 ans sont assez complets ce qui a permis de déduire qu\'elle mesurait un peu plus d\'un mètre cinquante. ',
            country: 'Brésil',
            fillKey: 'RUS',
            date: '1926',
            latitude: -19.6097189,
            longitude: -44.00374629999999
        }, {
            name: 'Homme de Kennewick',
            radius: 6,
            discover: 'Découvert le 28 juillet 1996 au nord-ouest des Etats-Unis, près de la rivière Columbia. Les datations effectuées sur le squelette indiquent un âge compris entre 9200 et 9600 ans, ce qui en fait l\'un des plus anciens américains fossilisés. ',
            country: 'USA',
            fillKey: 'RUS',
            date: '1926',
            latitude: 45.61263109999999,
            longitude: -122.70759250000003
        }, {
            name: 'Grotte de Lascaux',
            radius: 3,
            discover: 'Découverte fortuite de Lascaux, par quatre adolescents Marcel Ravidat, Jacques Marsal, Georges Agnel et Simon Coencas. Henri Breuil est le premier préhistorien à visiter Lascaux, le 21 septembre 1940.',
            country: 'France',
            fillKey: 'RUS',
            date: '1926',
            latitude: 45.053919,
            longitude: 1.167650999999978
        }, {
            name: 'Grotte d\'Altamira',
            radius: 3,
            discover: 'Les premières peintures paléolithiques sont découvertes en 1879 à Altamira, lors de fouilles conduites par Marcelino Sanz de Sautuola. Ce chercheur avait observé la présence de dessins géométriques sur les parois sans y accorder d\'importance mais c\'est sa fillette Maria, alors âgée de huit ans, qui remarqua la première la présence de « bœufs » dessinés au plafond. ',
            country: 'Espagne',
            fillKey: 'RUS',
            date: '1926',
            latitude: 43.377452,
            longitude: -4.122346999999991
        }, {
            name: 'Grotte Chauvet',
            radius: 3,
            discover: 'découverte de la grotte Chauvet et de ses peintures pariétales dénotant une grande maîtrise technique dès l\'Aurignacien, il y a plus de 30 000 ans.',
            country: 'France',
            fillKey: 'RUS',
            date: '1994',
            latitude: 44.38724390000001,
            longitude: 4.4158645999999635
        }, {
            name: 'Vallée de Foz Côa',
            radius: 2,
            discover: 'Découverte de gravures datant de plus de 20 000 ans.',
            country: 'Portugal',
            fillKey: 'RUS',
            date: '1926',
            latitude: 41.0799911,
            longitude: -7.111781699999938
        }

        ];

        // basic_choropleth.arc([
        // {
        //     origin: 'RUS',
        //     destination: 'ESP',
        // },
        // {
        //     origin: 'USA',
        //     destination: 'FRA',
        // },
        // {
        //     origin: 'IND',
        //     destination: 'PAK',
        // }])

        var colors = d3.scale.category20(); // category 20 c'est juste une palette de couleur, tu choisis tes couleurs dedans

        //basic_choropleth.updateChoropleth({
        //});

        //création des bubbles pour les sites donnés
        basic_choropleth.bubbles(sites, {
            //création du template des popup
            popupTemplate: function (geo, data) {
                return ['<div class="hoverinfo">' + data.name,
                '<br/>Découverte: ' + data.discover + '',
                '<br/>Pays: ' + data.country + '',
                '<br/>Date: ' + data.date + '',
                    '</div>'].join('');
            },

        })
    </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="scripts/app.js"></script>
</body>

</html>